
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Sistemesdefixers - Robert Daniel Miron - 1r ASIX</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arial:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Arial";--md-code-font:"Fira Code"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="Black">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-sistemes-de-fitxers-i-particions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Robert Daniel Miron - 1r ASIX" class="md-header__button md-logo" aria-label="Robert Daniel Miron - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Robert Daniel Miron - 1r ASIX
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sistemesdefixers
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Robert Daniel Miron - 1r ASIX" class="md-nav__button md-logo" aria-label="Robert Daniel Miron - 1r ASIX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Robert Daniel Miron - 1r ASIX
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 3
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 4
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 5
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#3-sistemes-de-fitxers-i-particions" class="md-nav__link">
    3. Sistemes de fitxers i particions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sistemes-de-fitxers-i-particions" class="md-nav__link">
    SISTEMES DE FITXERS I PARTICIONS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-de-la-informacio" class="md-nav__link">
    Estructura de la informació
  </a>
  
    <nav class="md-nav" aria-label="Estructura de la informació">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura-fisica-i-logica" class="md-nav__link">
    Estructura física i lògica
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blocs-i-sectors" class="md-nav__link">
    Blocs i sectors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problemes-amb-els-blocs-i-solucions" class="md-nav__link">
    Problemes amb els blocs i solucions
  </a>
  
    <nav class="md-nav" aria-label="Problemes amb els blocs i solucions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fragmentacio-interna" class="md-nav__link">
    Fragmentació interna
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentacio-externa" class="md-nav__link">
    Fragmentació externa
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipus-de-formateig" class="md-nav__link">
    Tipus de formateig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacio-de-particions-i-formateig" class="md-nav__link">
    Creació de particions i formateig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muntatge-de-particions" class="md-nav__link">
    Muntatge de particions
  </a>
  
    <nav class="md-nav" aria-label="Muntatge de particions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#temporal" class="md-nav__link">
    Temporal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permanent" class="md-nav__link">
    Permanent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparticio-de-carpetes-amb-samba" class="md-nav__link">
    Compartició de carpetes amb Samba
  </a>
  
    <nav class="md-nav" aria-label="Compartició de carpetes amb Samba">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracio-inicial" class="md-nav__link">
    Configuració inicial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accedir-al-recurs-compartit" class="md-nav__link">
    Accedir al recurs compartit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ntfs" class="md-nav__link">
    NTFS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h3 id="3-sistemes-de-fitxers-i-particions"><a href="./">3. Sistemes de fitxers i particions</a></h3>
<h3 id="sistemes-de-fitxers-i-particions">SISTEMES DE FITXERS I PARTICIONS</h3>
<p>Estructura de la informació</p>
<p>-<strong>Mida sector</strong></p>
<p>El sector es la unitat mínima física on es guarden les dades i per defecte és 11 bytes però el sistema operatiu n treballa en sectors si no en blocs. El bloc es la unitat mínima lògia del sistema operatiu  les dades per defectes. La mida del sectors n es pot canviar ve definida de fàbrica però la mida del bloc si que espot canviar. </p>
<p>-<strong>Mida block</strong></p>
<p><img alt="3" src="../imatges/sprint2/3.png" />
La comanda fdisk -l en sistemes operatius basats en Linux és una eina utilitzada per mostrar informació sobre les particions dels discos disponibles al sistema. Aquesta comanda és una part de l'eina fdisk, que s'utilitza per gestionar particions de discos.</p>
<p><img alt="1" src="../imatges/sprint2/1.png" />
La comanda  tune2fs -l /dev/sda | grep Block, s'utilitza per obtenir informació específica relacionada amb els blocs d'un sistema de fitxers ext2/ext3/ext4 que està muntat o disponible en una partició determinada.</p>
<p><img alt="2" src="../imatges/sprint2/2.png" />
La comanda df -T en sistemes Unix/Linux s'utilitza per obtenir informació sobre l'espai disponible en els sistemes de fitxers, però amb l'opció -T per mostrar també el tipus de sistema de fitxers.</p>
<p>Per a veure totes les informacions del sistema de fitxers</p>
<p>-<strong>Fragmentació interna</strong> es tot aquell espai desaprofitat als blocs perque no es acaben de plenar. ES pot solucionar augmenten o disminuint la mida del bloc pero a conseqüència de baixar el rendiment perque els  arxius estaran  mes</p>
<p>-<strong>Fragmentació externa</strong> es quan baixi el rendiments de sistema perque no es guarda de un amanera continua al sistema. és un fenomen que es produeix en sistemes d'emmagatzematge quan l'espai lliure disponible està dividit en múltiples blocs petits dispersos, fet que impedeix que es puguin utilitzar per emmagatzemar dades de grans dimensions, tot i que en conjunt hi hagi espai suficient. Aquest problema afecta el rendiment dels sistemes d'emmagatzematge, especialment en contextos on les dades es mouen, s'eliminen o s'actualitzen amb freqüència.</p>
<p><img alt="4" src="../imatges/sprint2/4.png" />
La comanda e4defrag -c /dev/sda2 és una instrucció utilitzada per realitzar la desfragmentació d'una partició que utilitza el sistema de fitxers ext4 en un sistema Linux. </p>
<h1 id="estructura-de-la-informacio">Estructura de la informació</h1>
<h2 id="estructura-fisica-i-logica">Estructura física i lògica</h2>
<p>L'estructura de la informació es divideix en dues parts:</p>
<ol>
<li><strong>Física</strong>: Representa el disc (sòlid o mecànic).</li>
<li><strong>Lògica</strong>: Inclou l'estructura GPT o MBR.</li>
</ol>
<p>La part lògica pot ser consultada mitjançant comandes de terminal, com es mostra a continuació:</p>
<pre><code class="language-bash">gdisk /dev/sda
</code></pre>
<h2 id="blocs-i-sectors">Blocs i sectors</h2>
<p>Els discs estan dividits en blocs, i dins de cada bloc hi ha sectors. Els sectors són la unitat mínima física on es guarden les dades (per defecte 512 bytes). Tot i això, el sistema operatiu treballa amb blocs, que són la unitat mínima lògica.</p>
<ul>
<li><strong>Mida del sector</strong>: Definida de fàbrica i no modificable.</li>
<li><strong>Mida del bloc</strong>: Es pot canviar quan formatem la partició.</li>
</ul>
<p>Per consultar la mida dels sectors:</p>
<pre><code class="language-bash">fdisk -l
</code></pre>
<p>Per veure la configuració dels blocs:</p>
<pre><code class="language-bash">tune2fs -l /dev/sda | grep Block
</code></pre>
<p>Per obtenir informació de les particions i sistemes de fitxers:</p>
<pre><code class="language-bash">df -T
</code></pre>
<h2 id="problemes-amb-els-blocs-i-solucions">Problemes amb els blocs i solucions</h2>
<h3 id="fragmentacio-interna">Fragmentació interna</h3>
<p>Quan els blocs no s'emplenen completament, es produeix fragmentació interna. </p>
<p><strong>Solució:</strong> 
- Reduir la mida del bloc si es guarden arxius petits (ex. fitxers de text).
- Augmentar la mida del bloc si es guarden arxius grans (ex. pel·lícules o ISOs).
- Recomanació: Separar diferents tipus d'arxius en particions diferents.</p>
<h3 id="fragmentacio-externa">Fragmentació externa</h3>
<p>Quan els arxius es guarden en blocs no continus després d'un ús prolongat del disc.</p>
<p><strong>Solució:</strong> 
- Desfragmentar el disc:</p>
<pre><code class="language-bash">e4defrag -c /dev/sda2  # Consulta de fragmentació
e4defrag /dev/sda2     # Desfragmentació
</code></pre>
<h2 id="tipus-de-formateig">Tipus de formateig</h2>
<ol>
<li><strong>Ràpid</strong>: Elimina el sistema de fitxers, però no els arxius ni repara blocs defectuosos.</li>
<li><strong>Nivell mig</strong>: Elimina el sistema de fitxers i detecta blocs defectuosos sense reparar-los.</li>
<li><strong>Nivell baix</strong>: Borra tots els arxius, elimina el sistema de fitxers i repara blocs defectuosos (més lent).</li>
</ol>
<h2 id="creacio-de-particions-i-formateig">Creació de particions i formateig</h2>
<p>Per accedir al disc:</p>
<pre><code class="language-bash">fdisk /dev/sdb
</code></pre>
<p>Assignem la configuració de la partició i confirmem. Per verificar:</p>
<pre><code class="language-bash">fdisk -l
</code></pre>
<p>Definir la mida del bloc:</p>
<pre><code class="language-bash">mkfs.ext4 -b 2048 /dev/sdb1
</code></pre>
<p>Comprovar la mida:</p>
<pre><code class="language-bash">tune2fs -l /dev/sdb1 | grep Block
</code></pre>
<h2 id="muntatge-de-particions">Muntatge de particions</h2>
<h3 id="temporal">Temporal</h3>
<p>El muntatge temporal es fa amb la comanda <code>mount</code>. Els arxius creats abans del muntatge no són visibles mentre el disc està muntat, i viceversa.</p>
<pre><code class="language-bash">mount /dev/sdb1 /mnt/particio1
</code></pre>
<p>Desmuntar:</p>
<pre><code class="language-bash">umount /mnt/particio1
</code></pre>
<h3 id="permanent">Permanent</h3>
<p>Es configura a l'arxiu <code>/etc/fstab</code>:</p>
<pre><code>/dev/sdb1 /home ext4 defaults 0 0
</code></pre>
<h2 id="comparticio-de-carpetes-amb-samba">Compartició de carpetes amb Samba</h2>
<h3 id="configuracio-inicial">Configuració inicial</h3>
<ol>
<li>Canviar l'adaptador de xarxa de la màquina virtual a "pont".</li>
<li>Instal·lar el client i servidor Samba:</li>
</ol>
<pre><code class="language-bash">sudo apt install smbclient samba
</code></pre>
<ol>
<li>Configurar l'arxiu <code>smb.conf</code>:</li>
</ol>
<pre><code class="language-bash">sudo nano /etc/samba/smb.conf
</code></pre>
<p>Afegir una partició per a l'usuari "platano" i reiniciar Samba:</p>
<pre><code class="language-bash">sudo systemctl restart smbd
</code></pre>
<ol>
<li>Crear l'usuari "platano" i ajustar permisos:</li>
</ol>
<pre><code class="language-bash">sudo adduser platano
sudo chown -R nobody:nogroup /mnt/particio
</code></pre>
<h3 id="accedir-al-recurs-compartit">Accedir al recurs compartit</h3>
<ol>
<li>Des d'una altra màquina, utilitzar:</li>
</ol>
<pre><code class="language-bash">smbclient //IP_DEL_SERVIDOR/NOM_COMPARTIT
</code></pre>
<ol>
<li>Accedir al recurs compartit amb el navegador de fitxers.</li>
</ol>
<h3 id="ntfs">NTFS</h3>
<p>Configurar una partició NTFS:</p>
<ol>
<li>Crear la partició:</li>
</ol>
<pre><code class="language-bash">mkfs.ntfs /dev/sdb2
</code></pre>
<ol>
<li>Configurar l'arxiu <code>fstab</code> per al muntatge definitiu:</li>
</ol>
<pre><code>/dev/sdb2 /mnt/particio2 ntfs defaults,uid=nobody,gid=nogroup 0 0
</code></pre>
<ol>
<li>
<p>Configurar Samba de manera similar a l'ext4.</p>
</li>
<li>
<p>Comprovar l'accés des de clients Linux i Windows.</p>
</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>